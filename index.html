<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Motorola Model Decoder</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #091c2e;
      color: #222;
      margin: 0;
      padding: 2rem;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .container {
      background: rgb(230, 230, 230);
      padding: 2rem 3rem;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 100%;
    }
    h1 {
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 0.25rem;
      text-align: center;
    }
    p {
      font-size: 0.9rem;
      color: #555;
      text-align: center;
      margin-bottom: 1.5rem;
      line-height: 1.4;
    }
    input[type="text"] {
      width: 100%;
      padding: 0.7rem 1rem;
      font-size: 1rem;
      border: 2px solid #ddd;
      border-radius: 8px;
      transition: border-color 0.3s ease;
      box-sizing: border-box;
    }
    input[type="text"]:focus {
      outline: none;
      border-color: #0078d7;
      box-shadow: 0 0 8px rgba(0, 120, 215, 0.3);
    }
    button {
      margin-top: 1rem;
      width: 100%;
      padding: 0.75rem;
      font-size: 1.1rem;
      font-weight: 600;
      color: white;
      background-color: #0078d7;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #005ea1;
    }
    #result {
      margin-top: 1.5rem;
      padding: 1.25rem 1.5rem;
      background-color: #eef3f7;
      border-left: 5px solid #0078d7;
      border-radius: 8px;
      font-size: 1rem;
      color: #333;
      white-space: pre-line;
    }
    code {
      background-color: #f2f4f6;
      padding: 0.15em 0.5em;
      border-radius: 4px;
      font-family: 'Courier New', Courier, monospace;
      font-weight: 600;
      color: #0078d7;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Motorola Model Decoder</h1>
    <p>Enter a Motorola <code>Model Number</code> (e.g. <code>AAM27JQN9LA1AN</code> or <code>H98UCH9PW7AN</code>) to decode.</p>
    <input type="text" id="lookupInput" placeholder="Enter Model Number"/>
    <button onclick="decodeModel()">Decode</button>
    <div id="result"></div>
  </div>

  <script>
    function decodeModel() {
      const input = document.getElementById("lookupInput").value.trim().toUpperCase();
      const resultDiv = document.getElementById("result");

      if (!/^[A-Z0-9]{12,15}$/.test(input)) {
        resultDiv.innerHTML = `<span style="color: red;">Invalid model format. Expected 12–15 alphanumeric characters.</span>`;
        return;
      }

      const prefix = input.slice(0, 3);
      const typeMap = {
        "H": "Handheld Portable",
        "M": "Mobile"
      };
      const bandMap = {
        "K": "136–174 MHz", "R": "403–470 MHz", "S": "450–512 MHz",
        "U": "700/800 MHz", "W": "900 MHz", "Q": "380–470 MHz", "V": "825–870 MHz",
        "B": "29.7–36 MHz", "C": "36–42 MHz", "D": "42–50 MHz"
      };
      const powerMap = {
        "C": "3 W", "D": "4–5 W", "E": "6 W", "H": "1–25 W", "K": "25–45 W",
        "A": "0–0.7 W", "B": "0.7–0.9 W", "F": "6.1–10 W"
      };
      const pkgMap = {
        "C": "No Display", "D": "4-line Display", "E": "6-line Display", "F": "Unknown",
        "N": "Enhanced Control Head", "L": "Limited Keypad", "P": "Full Keypad", "H": "Display & Keypad"
      };
      const spacingMap = {
        "1": "5 kHz", "2": "6.25 kHz", "4": "12.5 kHz", "6": "25 kHz", "9": "Variable/Programmable"
      };
      const protocolMap = {
        "AA": "Conventional", "CK": "MPT1327", "PW": "P25 Digital", "PH": "Analog/Conv", "PM": "Mixed Mode",
        "N9": "DMR Tier II", "N5": "DMR Tier III"
      };
      const featureMap = {
        "1": "4 Channels", "2": "16 Channels", "5": "128 Channels", "6": "Multi-System"
      };
      const packageMap = {
        "N": "Standard", "C": "CENELEC", "E": "Export", "U": "US Market"
      };
      const modelSeriesTable = {
        "PH9": "XPR 5550",
        "DC9": "CP200",
        "PH5": "XPR 4550",
        "JNC": "APX 6000",
        "JNR": "APX 8000",
        "QPH": "XPR 4550 Alt",
        "UCH": "APX 4000",
        "JQN": "XPR 7350",
        "JQH": "XPR 3500",
        "JQG": "XPR 3300"
      };

      const modelId = input.slice(3, 6);
      const family = modelSeriesTable[modelId] ? modelSeriesTable[modelId] : "Unknown Family";

      let output = `<strong>Model:</strong> ${input}`;
      if (modelSeriesTable[modelId]) {
        output += `\n<strong>Detected Series:</strong> ${modelSeriesTable[modelId]}`;
      }

      if (["AAM", "AAH"].includes(prefix)) {
        const typeCode = input.charAt(2);
        const modelCode = input.slice(3, 5);
        const band = input.charAt(5);
        const power = input.charAt(6);
        const pkg = input.charAt(7);
        const spacing = input.charAt(8);
        const protocol = input.slice(9, 11);
        const feature = input.charAt(11);
        const revision = input.charAt(12);
        const pack = input.charAt(13);

        output += `
<strong>Radio Type:</strong> ${typeMap[typeCode] || "Unknown"}
<strong>Model Code:</strong> ${modelCode}
<strong>Band:</strong> ${bandMap[band] || "Unknown"}
<strong>Power:</strong> ${powerMap[power] || "Unknown"}
<strong>Package:</strong> ${pkgMap[pkg] || "Unknown"}
<strong>Channel Spacing:</strong> ${spacingMap[spacing] || "Unknown"}
<strong>Protocol:</strong> ${protocolMap[protocol] || "Unknown"}
<strong>Feature:</strong> ${featureMap[feature] || "Unknown"}
<strong>Revision:</strong> ${revision}
<strong>Package Code:</strong> ${packageMap[pack] || "Standard"}
<em>Decoded using Motorola Waris / DMR / MOTOTRBO format.</em>`;
      } else if (input.startsWith("H")) {
        const type = input.charAt(0);
        const series = input.slice(1, 3);
        const band = input.charAt(3);
        const power = input.charAt(4);
        const pkg = input.charAt(5);
        const spacing = input.charAt(6);
        const protocol = input.charAt(7);
        const system = input.charAt(8);
        const feature = input.charAt(9);
        const version = input.charAt(10);
        const variation = input.charAt(11);

        const seriesMap = {
          "18": "XTS 5000", "09": "XTS 3000", "46": "XTS 2500", "04": "Digital Saber",
          "66": "XTS 1500", "98": "APX 6000/8000", "97": "APX 7000", "96": "APX 4000"
        };

        output += `
<strong>Radio Type:</strong> ${typeMap[type] || "Unknown"}
<strong>Series:</strong> ${seriesMap[series] || `Unknown (${series})`}
<strong>Band:</strong> ${bandMap[band] || "Unknown"}
<strong>Power:</strong> ${powerMap[power] || "Unknown"}
<strong>Package:</strong> ${pkgMap[pkg] || "Unknown"}
<strong>Channel Spacing:</strong> ${spacingMap[spacing] || "Unknown"}
<strong>Protocol:</strong> ${protocolMap[protocol] || "Unknown"}
<strong>Feature:</strong> ${featureMap[feature] || "Unknown"}
<strong>Version:</strong> ${version}
<strong>Variation:</strong> ${packageMap[variation] || "Standard"}
<em>Decoded using Motorola APX / Astro format.</em>`;
      } else {
        output = `<span style="color:red;">Unsupported model prefix or format: ${prefix}</span>`;
      }

      resultDiv.innerHTML = `<div style="white-space: pre-line;">${output}</div>`;
    }
  </script>
</body>
</html>
